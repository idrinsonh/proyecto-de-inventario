<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema GESTECF - Reportes Autom√°ticos</title>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 800px; margin: 50px auto; background: white; border-radius: 20px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); overflow: hidden; }
        .header { background: linear-gradient(135deg, #1a3a8f 0%, #2c5aa0 100%); color: white; padding: 40px; text-align: center; }
        .content { padding: 40px; }
        .form-group { margin-bottom: 25px; }
        label { display: block; margin-bottom: 8px; font-weight: 600; color: #333; }
        input, select, textarea { width: 100%; padding: 15px; border: 2px solid #e1e5e9; border-radius: 10px; font-size: 16px; }
        .submit-btn { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 18px 40px; border-radius: 50px; font-size: 18px; font-weight: 600; cursor: pointer; width: 100%; }
        .message { padding: 20px; border-radius: 10px; margin-bottom: 20px; text-align: center; }
        .success { background: #d4edda; color: #155724; border: 2px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 2px solid #f5c6cb; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Sistema GESTECF</h1>
            <p>Gesti√≥n de Equipos y Seguimiento T√©cnico de Fallas</p>
        </div>
        
        <div class="content">
            <div id="message" style="display: none;"></div>
            
            <form id="reportForm">
                <div class="form-group">
                    <label>Nombre del Reportante *</label>
                    <input type="text" id="reporterName" required>
                </div>
                
                <div class="form-group">
                    <label>Correo Electr√≥nico *</label>
                    <input type="email" id="reporterEmail" required>
                </div>
                
                <div class="form-group">
                    <label>Tel√©fono de Contacto</label>
                    <input type="tel" id="reporterPhone">
                </div>
                
                <div class="form-group">
                    <label>ID del Equipo *</label>
                    <input type="text" id="equipmentId" required>
                </div>
                
                <div class="form-group">
                    <label>Ubicaci√≥n del Equipo</label>
                    <input type="text" id="location">
                </div>
                
                <div class="form-group">
                    <label>Tipo de Problema *</label>
                    <select id="problemType" required>
                        <option value="">Selecciona el tipo de problema</option>
                        <option value="hardware">Hardware</option>
                        <option value="software">Software</option>
                        <option value="red">Red</option>
                        <option value="otros">Otros</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Nivel de Urgencia *</label>
                    <select id="urgency" required>
                        <option value="">Selecciona la urgencia</option>
                        <option value="baja">Baja</option>
                        <option value="media">Media</option>
                        <option value="alta">Alta</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Descripci√≥n del Problema *</label>
                    <textarea id="problemDescription" required></textarea>
                </div>
                
                <button type="submit" class="submit-btn">Enviar Reporte</button>
            </form>
        </div>
    </div>

    <script>
        // Configuraci√≥n EmailJS
        emailjs.init("AVfa4a_vRNRmle6Pw");

        document.getElementById('reportForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const messageDiv = document.getElementById('message');
            messageDiv.style.display = 'block';
            messageDiv.textContent = 'Enviando reporte...';
            messageDiv.className = 'message';
            
            try {
                await emailjs.send("service_mb5sxq9", "template_qiaa33g", {
                    to_email: 'vegasoe37@gmail.com',
                    from_name: document.getElementById('reporterName').value,
                    from_email: document.getElementById('reporterEmail').value,
                    equipment_id: document.getElementById('equipmentId').value,
                    location: document.getElementById('location').value || 'No especificada',
                    problem_type: document.getElementById('problemType').value,
                    urgency: document.getElementById('urgency').value,
                    problem_description: document.getElementById('problemDescription').value,
                    reporter_phone: document.getElementById('reporterPhone').value || 'No proporcionado',
                    timestamp: new Date().toLocaleString(),
                    priority: document.getElementById('urgency').value === 'alta' ? 'ALTA' : 'NORMAL'
                });
                
                messageDiv.textContent = '‚úÖ Reporte enviado correctamente!';
                messageDiv.className = 'message success';
                this.reset();
                
            } catch (error) {
                messageDiv.textContent = '‚ùå Error al enviar: ' + (error.text || 'Intenta nuevamente');
                messageDiv.className = 'message error';
            }
        });
    </script>
</body>
</html>